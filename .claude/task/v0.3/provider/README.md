# LLMé…ç½®ç³»ç»Ÿé‡æ„ - é‡Œç¨‹ç¢‘æ€»è§ˆ

## é¡¹ç›®æ¦‚è¿°

å°†DrawIO2Goçš„LLMé…ç½®ç³»ç»Ÿä»æ‰å¹³çš„å•ä¸€é…ç½®æ¨¡å¼é‡æ„ä¸º**[ä¾›åº”å•† â†’ å¤šæ¨¡å‹]**çš„åˆ†å±‚æ¶æ„ã€‚

**é‡è¦**: æ­¤ä¸ºæ•°æ®åº“åˆå§‹ç‰ˆæœ¬ï¼ˆv1ï¼‰ï¼Œæ— éœ€è€ƒè™‘å‘å‰å…¼å®¹ï¼Œå¯ç›´æ¥æ‰§è¡Œç ´åæ€§æ›´æ”¹ã€‚

## æ ¸å¿ƒç›®æ ‡

1. **ä¾›åº”å•†-æ¨¡å‹åˆ†å±‚æ¶æ„** - æ¯ä¸ªä¾›åº”å•†å¯é…ç½®å¤šä¸ªæ¨¡å‹
2. **æ¨¡å‹ç‹¬ç«‹å‚æ•°** - æ¯ä¸ªæ¨¡å‹æœ‰ç‹¬ç«‹çš„æ¸©åº¦å’Œå·¥å…·è°ƒç”¨è½®æ¬¡
3. **Agentè®¾ç½®ç‹¬ç«‹** - ç³»ç»Ÿæç¤ºè¯ç§»è‡³å•ç‹¬çš„Agentè®¾ç½®é¡µé¢
4. **å¿«é€Ÿæ¨¡å‹åˆ‡æ¢** - èŠå¤©é¡µé¢å³ä¸‹è§’çš„æ¨¡å‹é€‰æ‹©å™¨
5. **HeroUI v3æœ€ä½³å®è·µ** - å®Œæ•´ä½¿ç”¨å¤åˆç»„ä»¶æ¨¡å¼å’Œè¯­ä¹‰åŒ–variant

## é‡Œç¨‹ç¢‘ä¸€è§ˆ

| é‡Œç¨‹ç¢‘                                        | åç§°               | ä¼˜å…ˆçº§  | é¢„è®¡æ—¶é—´ | çŠ¶æ€      |
| --------------------------------------------- | ------------------ | ------- | -------- | --------- |
| [M1](./milestone-1-type-definitions.md)       | ç±»å‹å®šä¹‰ä¸å­˜å‚¨åŸºç¡€ | ğŸ”´ æœ€é«˜ | 3-4h     | â¬œ å¾…å¼€å§‹ |
| [M2](./milestone-2-storage-layer.md)          | å­˜å‚¨å±‚æ–¹æ³•å®ç°     | ğŸ”´ æœ€é«˜ | 3-4h     | â¬œ å¾…å¼€å§‹ |
| [M3](./milestone-3-provider-management-ui.md) | ä¾›åº”å•†ç®¡ç†UI       | ğŸŸ¡ é«˜   | 4-5h     | â¬œ å¾…å¼€å§‹ |
| [M4](./milestone-4-model-management-ui.md)    | æ¨¡å‹ç®¡ç†UI         | ğŸŸ¡ é«˜   | 4-5h     | â¬œ å¾…å¼€å§‹ |
| [M5](./milestone-5-agent-settings-ui.md)      | Agentè®¾ç½®UI        | ğŸŸ¡ é«˜   | 2-3h     | â¬œ å¾…å¼€å§‹ |
| [M6](./milestone-6-chat-model-selector.md)    | èŠå¤©é¡µé¢æ¨¡å‹é€‰æ‹©å™¨ | ğŸŸ¡ é«˜   | 3-4h     | â¬œ å¾…å¼€å§‹ |
| [M7](./milestone-7-api-integration.md)        | APIé›†æˆ            | ğŸŸ¡ é«˜   | 2-3h     | â¬œ å¾…å¼€å§‹ |
| [M8](./milestone-8-polish-and-test.md)        | æ ·å¼ä¼˜åŒ–ä¸æµ‹è¯•     | ğŸŸ¢ ä¸­   | 3-4h     | â¬œ å¾…å¼€å§‹ |

**æ€»è®¡é¢„ä¼°**: 24-32å°æ—¶ï¼ˆçº¦3-4ä¸ªå·¥ä½œæ—¥ï¼‰

## ä¾èµ–å…³ç³»å›¾

```
M1 (ç±»å‹å®šä¹‰)
 â”œâ”€â†’ M2 (å­˜å‚¨å±‚)
 â”‚    â”œâ”€â†’ M3 (ä¾›åº”å•†UI)
 â”‚    â”‚    â””â”€â†’ M4 (æ¨¡å‹UI)
 â”‚    â”œâ”€â†’ M5 (Agent UI)
 â”‚    â””â”€â†’ M6 (æ¨¡å‹é€‰æ‹©å™¨)
 â”‚         â””â”€â†’ M7 (APIé›†æˆ)
 â”‚              â””â”€â†’ M8 (æµ‹è¯•å®Œå–„)
```

**å…³é”®è·¯å¾„**: M1 â†’ M2 â†’ M6 â†’ M7 â†’ M8

## å®æ–½å»ºè®®

### é˜¶æ®µ1: åŸºç¡€æ¶æ„ï¼ˆM1-M2ï¼‰

**æ—¶é—´**: 6-8å°æ—¶
**ç›®æ ‡**: å»ºç«‹ç±»å‹ç³»ç»Ÿå’Œå­˜å‚¨å±‚

- å…ˆå®ŒæˆM1ï¼Œç¡®ä¿TypeScriptç¼–è¯‘é€šè¿‡
- å†å®ŒæˆM2ï¼Œç¡®ä¿æ‰€æœ‰å­˜å‚¨æ–¹æ³•å¯ç”¨
- åœ¨æ­¤é˜¶æ®µå®Œæˆåï¼Œå¯ä»¥å¼€å§‹å¹¶è¡Œå¼€å‘UI

### é˜¶æ®µ2: UIå¼€å‘ï¼ˆM3-M6ï¼‰

**æ—¶é—´**: 13-17å°æ—¶
**ç›®æ ‡**: å®ç°æ‰€æœ‰ç”¨æˆ·ç•Œé¢

- M3å’ŒM5å¯ä»¥å¹¶è¡Œå¼€å‘ï¼ˆä¸åŒå¼€å‘è€…ï¼‰
- M4ä¾èµ–M3ï¼Œå¿…é¡»é¡ºåºæ‰§è¡Œ
- M6å¯ä»¥ä¸M3-M5å¹¶è¡Œå¼€å‘ï¼ˆä¸åŒå¼€å‘è€…ï¼‰

### é˜¶æ®µ3: é›†æˆä¸å®Œå–„ï¼ˆM7-M8ï¼‰

**æ—¶é—´**: 5-7å°æ—¶
**ç›®æ ‡**: åç«¯é›†æˆå’Œè´¨é‡ä¿è¯

- M7ä¾èµ–M6çš„å‰ç«¯å‚æ•°ä¼ é€’
- M8åœ¨æ‰€æœ‰åŠŸèƒ½å®Œæˆåè¿›è¡Œå…¨é¢æµ‹è¯•

## æ–‡ä»¶å˜æ›´ç»Ÿè®¡

### æ–°å»ºæ–‡ä»¶ï¼ˆ5ä¸ªï¼‰

1. `app/components/settings/ModelsSettingsPanel.tsx`
2. `app/components/settings/ProviderEditDialog.tsx`
3. `app/components/settings/ModelEditDialog.tsx`
4. `app/components/settings/AgentSettingsPanel.tsx`
5. `app/styles/components/model-selector.css`

### ä¿®æ”¹æ–‡ä»¶ï¼ˆ8ä¸ªï¼‰

1. `app/types/chat.ts`
2. `app/lib/config-utils.ts`
3. `app/hooks/useStorageSettings.ts`
4. `app/components/settings/SettingsNav.tsx`
5. `app/components/SettingsSidebar.tsx`
6. `app/components/ChatSidebar.tsx`
7. `app/api/chat/route.ts`
8. `app/globals.css`

### åˆ é™¤æ–‡ä»¶ï¼ˆ2ä¸ªï¼‰

1. `app/components/settings/LLMSettingsPanel.tsx`
2. `app/components/settings/SystemPromptEditor.tsx`

## å­˜å‚¨ç»“æ„

### æ–°çš„å­˜å‚¨é”®

| é”®                 | ç±»å‹                         | è¯´æ˜                        |
| ------------------ | ---------------------------- | --------------------------- |
| `llm_providers`    | `JSON<ProviderConfig[]>`     | æ‰€æœ‰ä¾›åº”å•†é…ç½®åˆ—è¡¨          |
| `llm_active_model` | `JSON<ActiveModelReference>` | å½“å‰é€‰ä¸­çš„æ¨¡å‹å¼•ç”¨          |
| `agent_settings`   | `JSON<AgentSettings>`        | Agentå…¨å±€è®¾ç½®ï¼ˆç³»ç»Ÿæç¤ºè¯ï¼‰ |

### åºŸå¼ƒçš„å­˜å‚¨é”®

- ~~`llmConfig`~~ - æ—§çš„æ‰å¹³é…ç½®ï¼Œå°†è¢«åˆ é™¤

## HeroUI v3 ä½¿ç”¨æ¸…å•

### å¿…é¡»éµå¾ª

- âœ… å¤åˆç»„ä»¶æ¨¡å¼ï¼ˆ`Card.Header`, `Modal.Content` ç­‰ï¼‰
- âœ… è¯­ä¹‰åŒ–variantï¼ˆ`primary`, `secondary`, `tertiary`, `danger`ï¼‰
- âœ… `onPress` ä»£æ›¿ `onClick`
- âœ… `isDisabled` ä»£æ›¿ `disabled`

### ä½¿ç”¨çš„ç»„ä»¶

- Accordion, Card, Modal, Button, Dropdown, ListBox
- TextField, Input, TextArea, Label, Description
- Select, Slider, Badge
- Alertï¼ˆé”™è¯¯æç¤ºï¼‰

## æµ‹è¯•é‡ç‚¹

### åŠŸèƒ½æµ‹è¯•

- [ ] ä¾›åº”å•†CRUDæ“ä½œ
- [ ] æ¨¡å‹CRUDæ“ä½œ
- [ ] è®¾ç½®é»˜è®¤æ¨¡å‹
- [ ] Agentè®¾ç½®ç¼–è¾‘
- [ ] æ¨¡å‹å¿«é€Ÿåˆ‡æ¢
- [ ] APIä½¿ç”¨æ–°é…ç½®

### è¾¹ç•Œæµ‹è¯•

- [ ] åˆ é™¤æ´»åŠ¨ä¾›åº”å•†
- [ ] åˆ é™¤æ´»åŠ¨æ¨¡å‹
- [ ] æ— ä¾›åº”å•†/æ— æ¨¡å‹
- [ ] å­˜å‚¨æ“ä½œè¶…æ—¶

### è´¨é‡æµ‹è¯•

- [ ] TypeScriptç¼–è¯‘
- [ ] ESLintæ£€æŸ¥
- [ ] å¯è®¿é—®æ€§ï¼ˆWCAG 2.1 AAï¼‰
- [ ] æ€§èƒ½ï¼ˆå¤§æ•°æ®é‡ï¼‰

## å®Œæˆæ ‡å‡†

å½“æ»¡è¶³ä»¥ä¸‹æ‰€æœ‰æ¡ä»¶æ—¶ï¼Œé‡æ„å®£å‘Šå®Œæˆï¼š

1. âœ… æ‰€æœ‰8ä¸ªé‡Œç¨‹ç¢‘çš„ä»»åŠ¡å…¨éƒ¨å®Œæˆ
2. âœ… æ‰€æœ‰éªŒæ”¶æ ‡å‡†æ»¡è¶³
3. âœ… TypeScriptç¼–è¯‘æ— é”™è¯¯
4. âœ… ESLintæ£€æŸ¥æ— é”™è¯¯
5. âœ… æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡
6. âœ… æ–‡æ¡£å·²æ›´æ–°
7. âœ… ä»£ç å·²æ¸…ç†ä¼˜åŒ–

## å¼€å§‹å®æ–½

è¯·æŒ‰é¡ºåºæ‰§è¡Œé‡Œç¨‹ç¢‘ï¼š

1. é˜…è¯» [milestone-1-type-definitions.md](./milestone-1-type-definitions.md)
2. å®ŒæˆM1çš„æ‰€æœ‰ä»»åŠ¡
3. éªŒè¯M1çš„éªŒæ”¶æ ‡å‡†
4. ç»§ç»­M2...

---

**æœ€åæ›´æ–°**: 2025-11-25
**è®¡åˆ’ç‰ˆæœ¬**: v0.3
**è´Ÿè´£äºº**: AI Agent
